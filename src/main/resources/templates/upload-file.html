<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="css/style.css" type="text/css" media="all"/>
    <title>CSS3 drop down menu #4</title>
    <style>
        body {
            background-color: #93B874;
        }
    </style>
</head>
<body>

<fieldset>
    <form name="deployment-form" th:action="@{/upload-file}" th:Object="${uploadingFiles}" enctype="multipart/form-data"
          method="POST">
        <div>
            <label>Upload Page File: </label> &nbsp
            <input type="file" name="pageFile"/>
        </div>

        <br/>

        <div>
            <label> Upload Query File: </label>
            <input type="file" name="queryFile"/>
        </div>

        <br/>

        <div>
            <input id="submit" type="submit" value="Submit"/>
        </div>

    </form>
</fieldset>

<h3>Please use following file format</h3>
<ul>
    <b>
        <li>Page file will have two column separated by '|'.</li>
    </b>
    <br/>
    <ul>
        <li>First Column contains the page name.</li>
        <li> Second Column: contains the list of keyword with in that page.</li>
        Example: File containing two record will look like this.<br/>
        P1|FORD,CAR,REVIEW<br/>
        P2|FORD,CAR<br/>
    </ul>

    <b>
        <li>Query fil will have two column separated by '|'.</li>
    </b>
    <br/>
    <ul>
        <li>First Column contains the query name.</li>
        <li>Second Column: contains the list of keyword with in that query.</li>
        Example: File containing two record will look like this.<br/>
        P1|FORD,CAR,REVIEW<br/>
        P2|FORD,CAR<br/>
    </ul>

</ul>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script th:inline="javascript">
    /*<![CDATA[*/

    $('#addFilesBtn').click(function () {
        $('.files-list').append('<p><input type="file" name="file"/> <input type="text" /></p>');
    });

    $('#submit').click(function () {

        $('.files-list p').each(function (i, el) {
            var $el = $(el);
            var name = $el.find('[type=text]').val();

            $el.find('[type=file]').attr('name', 'multipartFile[' + name + ']');
        });

        return true;
    });

    /*]]>*/
</script>
</body>
</html>